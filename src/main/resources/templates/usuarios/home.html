<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Home Page</title>
  <link th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" rel="stylesheet" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
    integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <link rel="stylesheet" href="styles/global.css">
  <link rel="stylesheet" href="styles/home.css">
</head>

<body>
  <nav class="navbar navbar-light bg-dark px-5">
    <img src="images/logo.png" width="150" class="d-inline-block align-top" alt="">
  </nav>
  <div class="login">
    <div class="login__content">
      <div class="login__img">
        <img src="images/login.svg" alt="">
      </div>

      <div class="login__forms">
        <form action="" class="login__registre" id="login-in">
          <h1 class="login__title">Login</h1>

          <div class="login__box">
            <i class='bx bx-user login__icon'></i>
            <input id="userRegister" type="text" placeholder="Usuário" class="login__input">
          </div>

          <div class="login__box">
            <i class='bx bx-lock-alt login__icon'></i>
            <input id="passwordRegister" type="password" placeholder="Senha" class="login__input">
          </div>

          <a id="login_btn" href="#" class="login__button">Logar</a>

          <div>
            <span class="login__account">Não tem uma conta?</span>
            <span class="login__signin" id="sign-up">Registrar-se</span>
          </div>
        </form>

        <form action="" class="login__create none" id="login-up">
          <h1 class="login__title">Criar Conta</h1>

          <div class="login__box">
            <i class='bx bx-user login__icon'></i>
            <input id="userLogin" type="text" placeholder="Usuário" class="login__input">
          </div>

          <div class="login__box">
            <i class='bx bx-at login__icon'></i>
            <input id="email" type="text" placeholder="Email" class="login__input">
          </div>

          <div class="login__box">
            <i class='bx bx-lock-alt login__icon'></i>
            <input id="passwordLogin" type="password" placeholder="Senha" class="login__input">
          </div>

          <a id="signup_btn" href="#" class="login__button">Registrar-se</a>

          <div>
            <span class="login__account">Já tem uma conta ?</span>
            <span class="login__signup" id="sign-in">Logar-se</span>
          </div>

          <div class="login__social">
            <a href="#" class="login__social-icon"><i class='bx bxl-facebook'></i></a>
            <a href="#" class="login__social-icon"><i class='bx bxl-twitter'></i></a>
            <a href="#" class="login__social-icon"><i class='bx bxl-google'></i></a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    /*===== LOGIN SHOW and HIDDEN =====*/
    const signUp = document.getElementById('sign-up'),
      signIn = document.getElementById('sign-in'),
      loginIn = document.getElementById('login-in'),
      loginUp = document.getElementById('login-up')


    signUp.addEventListener('click', () => {
      // Remove classes first if they exist
      loginIn.classList.remove('block')
      loginUp.classList.remove('none')

      // Add classes
      loginIn.classList.toggle('none')
      loginUp.classList.toggle('block')
    })

    signIn.addEventListener('click', () => {
      // Remove classes first if they exist
      loginIn.classList.remove('none')
      loginUp.classList.remove('block')

      // Add classes
      loginIn.classList.toggle('block')
      loginUp.classList.toggle('none')
    })



    $(document).ready(function () {
      $("#signup_btn").click(function () {
        const userName = $("#userLogin").val();
        const password = $("#passwordLogin").val();
        const email = $("#email").val();

        if (userName === '' || password === '' || email === '') {
          alert('Preencha os campos corretamente')
        } else {
          localStorage.setItem("userName", userName);
          localStorage.setItem("password", password);
          alert("Cadastrado com sucesso")
          window.location.href = "/usuarios";
        }


      });

      $("#login_btn").click(function () {
        const enteredName = $("#userRegister").val();
        const enteredPass = $("#passwordRegister").val();

        const storedName = localStorage.getItem("userName");
        const storedPass = localStorage.getItem("password");

        if (enteredName == storedName && enteredPass == storedPass) {
          window.location.href = "/usuarios";
        }
        else {
          alert("Usuário e senha estão incorretos");
        }
      });
    });
  </script>

</body>

</html>